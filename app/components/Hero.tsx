"use client"
import React, { useState, useEffect , useRef} from 'react';
import {
  FaGithub,
  FaLinkedin,
} from 'react-icons/fa';
import { BsFillPersonLinesFill } from 'react-icons/bs';
import { useTransform, useScroll, motion } from 'framer-motion';
import Header from './Header';
import About from './About';
import Link from 'next/link';

import MagneticIcons from './MagneticIcons';
import MagneticText from './MagneticText';


const Hero = () => {
    const socialLinks = [
      { href: 'https://linkedin.com/', icon: <FaLinkedin size={25} /> },
      { href: 'https://github.com/', icon: <FaGithub size={25} /> },
      { href: 'https://stackoverflow.com/', icon: <BsFillPersonLinesFill size={25} /> },
    ];
  
    const [activeLink, setActiveLink] = useState(0);
    useEffect(() => {
      const interval = setInterval(() => {
        setActiveLink((prevActiveLink) => (prevActiveLink + 1) % socialLinks.length);
      }, 1000);
  
      return () => clearInterval(interval);
    }, [activeLink, socialLinks.length]);

    const targetRef = useRef(null);
    const {scrollYProgress} = useScroll({
      target: targetRef,

    })
    const hueHero = useTransform(scrollYProgress, [0, 0.25 ,0.6, 0.70, 0.9 ,1], [0,0, 40, 65,100 ,100]);
    const opacityHero = useTransform(scrollYProgress, [0, 0.7, 1], [1, 0 ,0]);
    const opacityAboutSection = useTransform(scrollYProgress, [0, 0.7, 1], [0, 0,1]);

    const backgroundColorHero = useTransform(
      hueHero,
      [0, 100],
      ['#0a192f', '#f5f5f7']
    );

    const [isHovered, setIsHovered] = useState(false);

    const handleMouseEnter = () => {
      setIsHovered(true);
    };
  
    const handleMouseLeave = () => {
      setIsHovered(false);
    };

  return (

        <div ref={targetRef} className=' w-full  flex    '>
          <motion.div
            className='relative h-full w-full  bg-[#0a192f] origen-center'
            style={{ backgroundColor: backgroundColorHero }} 
          >

            <motion.div 
            className=' h-screen  lg:mx-auto  px-4 sm:px-6 lg:max-w-7xl  flex flex-col justify-between mb-[2rem] '
            style={{ opacity: opacityHero}}
            >
  
              <Header/>
          
                <div className='flex scroll-mt-28 h-full'>
                  <div className=' flex  flex-col justify-end bottom-0 left-4 items-center  '>
                    <ul>
                      {socialLinks.map((link, index) => (
                        <li key={index} className={`my-[2rem] text-[#8892b0] flex justify-center items-center ${activeLink === index ? 'active' : ''}`}>
                          <a href={link.href} target="_blank" className="">
                            {link.icon}
                          </a>
                        </li>
                      ))}
                    </ul>

                    <div className='flex '>
                      <div className="h-[5rem] w-[0.2rem] bg-[#8892b0] "/>
              
                    </div>
                  </div>   
                    <div className=' max-w-[55rem]  my-auto  pl-[14rem] pb-5 flex flex-col justify-center h-full'>
                      <p className='text-primary'>Hi, my name is</p>
                      <h1 className='w-fit text-4xl sm:text-7xl font-bold headersColorHero '>
                        Miguel Caridade
                      </h1>
                      <h2 className='w-fit flex flex-wrap text-4xl sm:text-7xl font-bold paragraphColorHero'>
                        I'm a Software Engineer.
                      </h2>
                      <p className=' w-fit paragraphColorHero leading-relaxed py-4 max-w-[700px]'>
                        Iâ€™m a Web Developer that focuses on Frontend. I specialize in crafting seamless 
                        and responsive web applications to enhance user interactions online.
                      </p>
                      <div>
                        <button className='text-white group border-2 px-6 py-3 my-2 flex items-center hover:bg-pink-600 hover:border-pink-600'>
                          Download Resume
                          <span className='group-hover:rotate-90 duration-300'>
                          { /*<HiArrowNarrowRight className='ml-3 ' />*/}
                          </span>
                        </button>
                      </div>
                    </div>
                    <div className='flex items-end ml-auto justify-center overflow-hidden relative h-fit self-end '>
            
                      <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                        width="1080.000000pt" height="1080.000000pt" viewBox="0 0 1080.000000 1080.000000"
                        preserveAspectRatio="xMidYMid meet" className='w-[18rem] h-fit animate-spin-slow transition'>

                        <g transform="translate(0.000000,1080.000000) scale(0.100000,-0.100000)"
                        fill={`${isHovered ?  '#ccd6f6' : '#C02666'}`} stroke="none">
                        <path d="M4396 9219 c-137 -37 -251 -70 -253 -73 -2 -2 46 -188 108 -414 l111
                        -409 79 20 c48 13 79 26 79 34 0 7 -18 79 -40 160 -23 80 -39 151 -36 158 2 6
                        70 29 151 50 80 22 151 42 156 46 14 9 -21 129 -38 129 -7 0 -79 -18 -160 -40
                        -80 -23 -149 -37 -154 -33 -8 9 -62 204 -57 208 2 2 82 24 178 50 96 26 176
                        48 177 49 5 4 -35 130 -43 132 -5 1 -121 -29 -258 -67z"/>
                        <path d="M5138 9119 c-24 -12 -46 -35 -60 -62 l-22 -42 -9 52 -10 52 -66 -5
                        c-36 -3 -71 -7 -76 -9 -7 -2 -1 -109 20 -321 l30 -319 65 3 c105 5 98 -8 83
                        150 -8 75 -12 174 -11 219 3 78 5 84 35 115 28 28 40 33 96 36 l64 4 7 65 c4
                        35 4 68 1 73 -11 18 -108 10 -147 -11z"/>
                        <path d="M5578 9127 c-60 -17 -105 -48 -145 -101 -51 -66 -66 -118 -67 -231
                        -1 -85 3 -108 22 -150 49 -107 140 -165 272 -173 91 -5 143 8 206 51 61 42
                        109 126 124 219 28 165 -35 305 -166 365 -64 29 -180 38 -246 20z m179 -147
                        c55 -33 68 -64 68 -160 0 -147 -46 -210 -152 -210 -104 0 -148 61 -141 195 5
                        92 32 156 76 179 39 22 111 20 149 -4z"/>
                        <path d="M6120 8754 c-54 -178 -89 -308 -84 -313 5 -5 39 -17 76 -28 l67 -20
                        30 96 c16 53 39 130 52 171 38 130 67 172 130 190 70 20 159 -29 159 -88 0
                        -17 -27 -119 -60 -228 -33 -109 -60 -203 -60 -208 0 -11 141 -59 148 -51 13
                        13 142 464 142 496 0 44 -21 103 -48 132 -65 72 -219 91 -294 37 -15 -11 -30
                        -20 -34 -20 -7 0 0 42 11 72 8 19 -2 24 -92 51 l-50 15 -93 -304z"/>
                        <path d="M7013 8845 c-15 -30 -32 -55 -38 -55 -5 0 -25 9 -44 21 -18 11 -34
                        19 -36 17 -20 -26 -57 -112 -50 -114 6 -2 25 -13 43 -24 l32 -20 -82 -162
                        c-113 -225 -116 -284 -21 -368 49 -43 117 -70 174 -70 37 0 38 0 44 48 4 26 9
                        55 12 65 3 13 -2 17 -20 17 -38 0 -86 20 -97 40 -6 10 -10 31 -10 45 0 33 138
                        305 154 305 6 0 44 -18 84 -39 l73 -39 28 57 29 57 -79 43 c-43 23 -79 44 -79
                        47 0 2 14 32 31 65 17 34 28 63 26 65 -2 2 -36 15 -76 29 l-72 24 -26 -54z"/>
                        <path d="M3418 8580 c-63 -34 -106 -111 -92 -167 9 -34 -7 -28 -35 12 -13 19
                        -27 35 -31 35 -17 0 -121 -83 -117 -94 7 -17 357 -516 363 -516 10 0 124 84
                        124 92 0 4 -39 63 -87 130 -111 159 -133 200 -133 255 0 55 22 88 74 115 23
                        11 43 22 45 24 7 6 -54 134 -64 134 -5 -1 -26 -10 -47 -20z"/>
                        <path d="M7343 8420 c-118 -59 -205 -190 -211 -316 -5 -98 20 -155 104 -233
                        79 -74 154 -106 231 -97 69 8 106 25 97 45 -3 9 -13 35 -21 58 -18 52 -23 56
                        -61 42 -70 -24 -183 48 -198 126 -6 36 19 125 36 125 4 0 81 -56 171 -125
                        l164 -125 39 42 c146 160 111 346 -85 453 -42 22 -69 29 -129 33 -69 3 -80 1
                        -137 -28z m234 -131 c36 -22 63 -65 63 -99 0 -38 -29 -93 -45 -86 -22 8 -205
                        149 -205 157 0 4 15 16 33 28 43 27 109 28 154 0z"/>
                        <path d="M3849 8287 c-58 -39 -64 -103 -14 -153 64 -64 193 13 171 102 -18 70
                        -93 94 -157 51z"/>
                        <path d="M2908 8165 c-64 -21 -159 -110 -195 -183 -58 -118 -28 -247 84 -359
                        150 -150 329 -150 469 -1 74 78 88 110 89 195 0 40 -5 77 -10 82 -7 7 -23 7
                        -45 2 -19 -5 -47 -12 -63 -15 -23 -6 -26 -10 -21 -31 24 -96 -94 -216 -188
                        -191 -13 3 -38 15 -57 27 l-34 21 153 153 153 154 -55 54 c-94 91 -186 122
                        -280 92z m119 -156 l35 -22 -98 -98 -99 -99 -17 33 c-66 123 63 257 179 186z"/>
                        <path d="M7770 7865 c-129 -113 -236 -208 -237 -213 -1 -4 21 -33 50 -64 l52
                        -58 145 127 c79 69 159 132 177 139 74 31 151 3 186 -68 29 -60 12 -84 -176
                        -247 l-166 -144 50 -59 c28 -32 54 -58 57 -58 4 0 87 70 184 154 114 100 186
                        171 203 200 48 82 31 170 -48 249 -47 47 -92 67 -152 67 -25 0 -45 3 -45 6 0
                        3 14 17 30 31 17 13 30 28 30 32 0 9 -90 111 -98 111 -4 0 -113 -93 -242 -205z"/>
                        <path d="M2412 7609 c-94 -48 -157 -169 -133 -258 6 -24 10 -46 7 -48 -3 -3
                        -19 5 -35 17 -17 11 -35 19 -40 15 -6 -3 -27 -33 -47 -66 -30 -50 -34 -63 -23
                        -70 8 -5 178 -116 379 -248 l365 -239 44 66 44 66 -22 17 c-12 10 -73 51 -136
                        91 -63 40 -115 75 -115 78 0 3 20 11 44 18 135 36 209 217 143 349 -34 67
                        -121 144 -214 190 -98 49 -193 57 -261 22z m174 -164 c103 -43 183 -139 168
                        -202 -27 -113 -121 -152 -234 -96 -145 72 -185 190 -95 280 28 28 40 33 79 33
                        26 0 63 -7 82 -15z"/>
                        <path d="M8302 7370 c-171 -61 -282 -182 -282 -307 0 -60 11 -93 47 -146 29
                        -42 97 -87 131 -87 27 0 37 -17 15 -25 -10 -3 -26 -12 -37 -20 -17 -13 -16
                        -17 20 -84 l37 -69 77 41 c42 23 221 121 397 217 l322 175 -37 68 c-20 37 -41
                        67 -46 67 -9 0 -68 -31 -223 -117 l-62 -34 6 68 c5 57 2 77 -17 121 -24 56
                        -83 116 -136 138 -47 20 -149 17 -212 -6z m198 -168 c64 -47 77 -135 31 -199
                        -36 -49 -154 -113 -210 -113 -78 0 -141 64 -141 143 0 53 25 92 85 131 99 66
                        179 79 235 38z"/>
                        <path d="M2110 6941 c-129 -42 -223 -181 -223 -329 0 -121 67 -212 200 -275
                        86 -40 199 -49 270 -22 108 42 191 164 201 296 10 145 -66 248 -227 310 -60
                        23 -179 34 -221 20z m131 -167 c153 -44 208 -124 160 -229 -30 -66 -53 -80
                        -130 -79 -83 0 -157 31 -207 86 -34 38 -36 44 -32 95 5 62 29 100 79 125 42
                        22 61 22 130 2z"/>
                        <path d="M8780 6382 c-228 -41 -417 -76 -419 -78 -7 -6 62 -360 79 -406 46
                        -123 125 -204 228 -234 77 -23 243 -15 332 15 177 60 263 179 262 361 -1 70
                        -52 406 -64 414 -2 1 -190 -31 -418 -72z m313 -135 c3 -7 11 -54 18 -105 20
                        -141 -6 -215 -94 -267 -86 -50 -251 -70 -325 -39 -54 22 -99 71 -121 128 -18
                        49 -47 194 -40 200 7 5 503 93 530 95 15 0 29 -5 32 -12z"/>
                        <path d="M1497 6208 c-9 -40 -13 -76 -9 -79 14 -12 718 -152 767 -153 69 0
                        109 26 141 90 18 37 24 64 22 95 l-3 44 -60 3 -61 3 -9 -33 c-7 -23 -17 -34
                        -32 -36 -13 -2 -177 28 -366 67 -189 39 -350 71 -359 71 -11 0 -20 -21 -31
                        -72z"/>
                        <path d="M1867 5890 c-58 -15 -92 -36 -129 -80 -104 -121 -78 -355 50 -444 62
                        -42 113 -58 203 -64 154 -9 257 41 313 152 26 49 31 72 34 151 3 55 0 107 -7
                        128 -16 48 -62 108 -98 129 l-30 17 -38 -54 -37 -55 29 -27 c63 -59 66 -178 5
                        -236 -26 -24 -108 -54 -119 -43 -3 3 -1 97 5 208 7 121 8 206 3 211 -14 14
                        -139 18 -184 7z m76 -242 c-2 -51 -6 -112 -9 -135 l-5 -43 -37 16 c-20 8 -48
                        26 -62 40 -21 21 -25 33 -25 88 0 86 33 124 111 125 l30 1 -3 -92z"/>
                        <path d="M8677 5530 c-92 -24 -160 -80 -199 -165 -19 -42 -23 -67 -23 -155 0
                        -97 2 -109 28 -152 15 -26 44 -60 63 -75 l36 -27 29 34 c51 63 56 78 31 96
                        -33 23 -52 68 -52 124 0 96 38 146 120 157 l40 6 -1 -69 c0 -38 -4 -130 -8
                        -204 -6 -88 -5 -139 1 -147 7 -9 38 -13 88 -13 134 0 214 43 259 139 22 48 26
                        70 25 146 0 74 -4 99 -24 139 -32 66 -93 122 -159 147 -63 23 -196 33 -254 19z
                        m254 -193 c42 -28 59 -60 59 -115 0 -76 -28 -108 -112 -128 l-28 -6 0 74 c0
                        41 3 103 6 137 8 70 19 76 75 38z"/>
                        <path d="M1673 5178 c3 -13 9 -49 12 -80 4 -32 10 -58 14 -58 7 0 417 -78 449
                        -85 12 -3 22 -9 22 -14 0 -4 -96 -58 -214 -119 l-213 -112 12 -75 c6 -41 14
                        -78 18 -81 3 -4 139 67 302 156 249 136 295 165 294 183 0 12 -6 56 -13 97
                        l-12 75 -319 67 c-176 37 -328 67 -339 68 -14 0 -17 -5 -13 -22z"/>
                        <path d="M8693 4786 c-160 -17 -294 -33 -296 -36 -13 -14 -49 -182 -41 -189
                        23 -21 555 -383 558 -380 4 6 36 136 36 148 0 6 -89 70 -197 142 -224 149
                        -208 138 -202 143 3 3 112 14 244 26 132 12 240 22 241 23 1 1 9 29 18 62 10
                        33 19 68 22 78 7 23 -22 22 -383 -17z"/>
                        <path d="M2261 4553 c-15 -75 -14 -83 7 -83 33 0 79 -38 102 -85 41 -85 16
                        -170 -62 -211 -20 -10 -27 -11 -31 -1 -2 6 -35 97 -72 200 -78 216 -62 203
                        -184 146 -145 -67 -194 -185 -141 -336 64 -184 225 -259 414 -193 159 55 236
                        148 236 288 0 154 -78 279 -199 320 -53 19 -57 16 -70 -45z m-125 -298 c49
                        -132 48 -140 -21 -130 -53 8 -81 27 -105 75 -23 45 -25 85 -6 118 14 25 66 64
                        80 59 5 -2 28 -56 52 -122z"/>
                        <path d="M8338 4246 c-26 -7 -65 -25 -88 -41 -73 -51 -150 -192 -150 -277 0
                        -47 20 -113 43 -141 l22 -27 45 30 c25 16 49 31 54 33 4 1 0 26 -10 54 -15 43
                        -16 57 -6 91 15 49 53 97 95 118 32 17 111 12 123 -7 3 -6 -33 -92 -81 -191
                        -67 -138 -85 -185 -78 -197 6 -9 40 -29 77 -44 122 -51 234 -33 307 51 84 96
                        113 243 66 345 -44 97 -158 180 -285 206 -64 13 -74 13 -134 -3z m308 -311
                        c10 -41 -5 -93 -38 -130 -26 -31 -36 -35 -77 -34 -87 1 -87 -1 -20 139 l60
                        125 34 -37 c19 -20 37 -49 41 -63z"/>
                        <path d="M2390 3908 c-179 -63 -310 -187 -345 -326 -32 -125 0 -218 159 -460
                        l87 -134 27 18 c15 10 176 114 357 232 182 118 331 215 332 216 9 7 -223 340
                        -261 374 -103 94 -233 123 -356 80z m215 -167 c22 -10 56 -36 76 -57 41 -44
                        109 -143 109 -159 0 -5 -106 -79 -236 -163 -219 -142 -237 -152 -250 -135 -39
                        52 -104 182 -110 218 -16 112 76 226 236 292 67 27 122 29 175 4z"/>
                        <path d="M7955 3696 c-47 -21 -115 -103 -115 -138 0 -11 19 -27 52 -44 l52
                        -26 19 26 c10 14 28 26 39 26 11 0 153 -91 316 -203 164 -112 302 -207 309
                        -210 11 -7 93 100 93 122 0 12 -591 418 -645 442 -47 22 -79 23 -120 5z"/>
                        <path d="M7765 3407 c-65 -22 -97 -42 -147 -94 -74 -76 -93 -122 -93 -223 0
                        -104 20 -146 106 -232 79 -80 152 -113 244 -112 90 1 151 31 227 113 70 75 93
                        135 86 230 -6 84 -34 138 -109 213 -95 95 -218 136 -314 105z m123 -166 c44
                        -23 113 -93 136 -138 62 -124 -75 -249 -202 -184 -44 23 -113 93 -136 138 -62
                        124 75 249 202 184z"/>
                        <path d="M7146 3215 c-27 -18 -53 -38 -58 -43 -6 -6 19 -51 65 -118 41 -60 82
                        -121 91 -135 l17 -27 -63 2 c-53 1 -71 -4 -118 -30 -98 -55 -148 -147 -136
                        -249 13 -117 136 -294 238 -344 49 -23 137 -28 185 -10 81 30 144 103 159 183
                        l7 39 27 -33 28 -34 66 43 c40 27 63 48 59 55 -66 106 -497 732 -506 733 -6 1
                        -34 -13 -61 -32z m157 -438 c61 -26 137 -130 151 -207 14 -78 -61 -160 -146
                        -160 -79 0 -187 129 -196 233 -4 47 -1 57 24 86 47 56 106 73 167 48z"/>
                        <path d="M3220 3121 c-132 -41 -282 -221 -298 -357 -10 -93 42 -186 134 -240
                        36 -21 57 -26 110 -26 l64 1 -29 -37 c-16 -20 -63 -80 -105 -132 l-77 -95 38
                        -33 c21 -19 49 -42 63 -52 l26 -18 279 350 c154 192 279 353 278 356 -1 4 -29
                        28 -62 55 l-59 48 -22 -31 c-29 -40 -40 -38 -40 8 0 128 -170 242 -300 203z
                        m137 -171 c112 -50 110 -179 -4 -293 -72 -72 -137 -84 -204 -36 -56 39 -73
                        106 -45 172 23 55 92 133 138 155 52 27 62 27 115 2z"/>
                        <path d="M3761 2723 c-65 -26 -70 -41 -34 -99 32 -51 38 -54 89 -33 57 23 141
                        -10 188 -74 21 -29 26 -79 13 -129 l-7 -28 -190 95 c-104 52 -192 95 -195 95
                        -13 0 -75 -148 -81 -192 -21 -149 121 -287 303 -297 63 -3 81 0 127 23 133 65
                        228 249 205 396 -10 62 -35 104 -95 160 -93 85 -229 120 -323 83z m68 -389
                        c58 -31 110 -60 115 -65 21 -20 -61 -79 -110 -79 -67 0 -144 63 -144 118 0 23
                        20 82 28 82 3 0 53 -25 111 -56z"/>
                        <path d="M6534 2581 c-120 -44 -188 -115 -207 -217 -6 -31 -6 -32 50 -43 78
                        -15 81 -15 88 19 16 72 105 128 187 117 33 -4 51 -15 80 -46 21 -22 38 -44 38
                        -49 0 -4 -88 -43 -195 -86 -107 -43 -195 -82 -195 -87 0 -5 12 -38 26 -73 66
                        -165 188 -222 353 -164 74 26 151 89 184 152 31 59 31 188 -1 271 -30 80 -86
                        152 -146 190 -43 26 -60 30 -130 32 -59 2 -95 -3 -132 -16z m276 -417 c-10
                        -45 -26 -63 -75 -85 -47 -22 -74 -23 -110 -7 -25 11 -72 74 -63 84 3 2 59 26
                        124 52 l119 49 6 -29 c4 -16 3 -45 -1 -64z"/>
                        <path d="M4255 2088 c-99 -215 -180 -394 -180 -397 0 -3 35 -13 78 -22 78 -17
                        78 -17 87 5 27 70 233 523 240 530 6 6 11 4 14 -5 2 -8 10 -148 17 -311 l12
                        -297 56 -11 c31 -6 63 -13 72 -16 11 -3 49 65 154 278 l139 283 7 -160 c3 -88
                        7 -228 8 -312 l1 -152 76 -16 c41 -10 77 -15 80 -12 3 3 2 200 -3 439 l-8 433
                        -75 17 c-41 9 -83 17 -92 17 -14 1 -50 -63 -147 -256 -150 -300 -134 -301
                        -151 17 -6 113 -13 228 -16 256 l-5 51 -82 17 c-45 9 -87 16 -92 16 -6 0 -92
                        -176 -190 -392z"/>
                        <path d="M6105 2433 c-32 -8 -60 -15 -62 -16 -1 -2 13 -74 32 -161 61 -275 42
                        -347 -93 -363 l-53 -6 3 -71 3 -71 52 1 c68 2 112 28 140 83 30 59 31 59 44 7
                        6 -25 14 -46 18 -46 20 1 133 29 138 34 5 5 -51 285 -109 539 -22 97 -16 94
                        -113 70z"/>
                        <path d="M5644 2360 c-50 -20 -71 -101 -39 -147 36 -51 137 -50 171 2 19 29
                        21 78 4 109 -21 41 -84 57 -136 36z"/>
                        </g>
                      </svg>

                     <div className='flex  items-center justify-center text-primary  font-semibold 
                        absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 p-[5rem] 
                        '>
                          <MagneticIcons>
                            <div className='cursor-pointer w-[6rem] h-[6rem] flex items-center justify-center 
                              rounded-full   transition hover:bg-primary  hover:text-secondary bg-white m-[0.2rem]'      onMouseEnter={handleMouseEnter}
                              onMouseLeave={handleMouseLeave}>
                              
                              <Link href="m@gmail.com" className='w-full h-full '>
                                <MagneticText>
                                  Hire me
                                </MagneticText>
                              </Link>
                            
                            </div>
                            </MagneticIcons>
                        </div>                      
                    </div>
                </div>
            </motion.div>
            <motion.div 
            className='mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl '
            style={{ opacity: opacityAboutSection }} 
            >
            <About/>
            </motion.div>
          </motion.div>     
    </div>
    
  )
}

export default Hero